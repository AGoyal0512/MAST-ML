
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Input file &#8212; MAST-ml 1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Glossary" href="3_glossary.html" />
    <link rel="prev" title="Troubleshooting" href="1_troubleshooting.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="input-file">
<h1>Input file<a class="headerlink" href="#input-file" title="Permalink to this headline">¶</a></h1>
<p>This documentation is looking at the <strong>dev</strong> branch. Not all changes may be in master yet.</p>
<div class="section" id="general">
<h2>General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Any lines in the input file may be commented out using #. Characters after # will be ignored as comments</li>
<li>For explanations of the keywords associated with sections like SingleFit, there will be html documentation in the future. For now, look at the docstring for the class on github, like SingleFit.py</li>
</ul>
</div>
<div class="section" id="sections">
<h2>Sections<a class="headerlink" href="#sections" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general-setup">
<span id="id1"></span><h3>General Setup<a class="headerlink" href="#general-setup" title="Permalink to this headline">¶</a></h3>
<p>This section has general setup information common to the entire input file.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">General</span> <span class="n">Setup</span><span class="p">]</span>

    <span class="n">save_path</span> <span class="o">=</span> <span class="o">./</span>
    <span class="n">input_features</span> <span class="o">=</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span>
    <span class="n">target_feature</span> <span class="o">=</span> <span class="n">y_feature</span>
            <span class="n">target_error_feature</span> <span class="o">=</span> <span class="n">error</span>
            <span class="n">labeling_features</span> <span class="o">=</span> <span class="n">group</span><span class="p">,</span> <span class="n">group_num</span>
            <span class="n">grouping_feature</span> <span class="o">=</span> <span class="n">group</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>save_path</strong> is the root save path for all of the tests in the input file.</li>
<li><strong>target_feature</strong> is what should be predicted.</li>
<li><strong>target_error_feature</strong> is the error data for the target_feature.</li>
<li><strong>labeling_features</strong> are the names and number identifiers for groups. This generally overlaps with grouping_feature unless you want a different naming method.</li>
<li><strong>grouping_feature</strong> is the feature to create groups on for any of the group tests.</li>
<li><strong>input_features</strong> are all the other features that should be used in the prediction. Use <code class="docutils literal"><span class="pre">input_features</span> <span class="pre">=</span> <span class="pre">Auto</span></code> to make everything except target feature into input_features.</li>
</ul>
</div>
<div class="section" id="csv-setup-optional">
<h3>CSV Setup (optional)<a class="headerlink" href="#csv-setup-optional" title="Permalink to this headline">¶</a></h3>
<p>This section is used to call a python routine that will automatically create a CSV file. Most users should skip this section.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">CSV</span> <span class="n">Setup</span><span class="p">]</span>
    <span class="n">setup_class</span> <span class="o">=</span> <span class="n">test</span><span class="o">.</span><span class="n">random_data</span><span class="o">.</span><span class="n">MakeRandomData</span>
    <span class="n">save_path</span> <span class="o">=</span> <span class="o">../</span><span class="n">random_data</span>
    <span class="n">random_seed</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>setup_class</strong> is the setup class, which must have a run() method.</li>
<li>All following keywords will be passed to the class __init__() method as a kwargs dictionary.</li>
</ul>
</div>
<div class="section" id="data-setup">
<span id="id2"></span><h3>Data Setup<a class="headerlink" href="#data-setup" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Data</span> <span class="n">Setup</span><span class="p">]</span>

    <span class="p">[[</span><span class="n">Initial</span><span class="p">]]</span>
    <span class="n">data_path</span> <span class="o">=</span> <span class="o">./</span><span class="n">basic_test_data</span><span class="o">.</span><span class="n">csv</span>
    <span class="n">weights</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>data_path</strong> is the path to the CSV file.</li>
<li><strong>weights</strong> has no effect as of now.</li>
<li>Multiple subsections with different names for different datasets may follow after the Initial subsection.</li>
</ul>
</div>
<div class="section" id="feature-generation-optional">
<h3>Feature Generation (optional)<a class="headerlink" href="#feature-generation-optional" title="Permalink to this headline">¶</a></h3>
<p>This section generates features.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Feature</span> <span class="n">Generation</span><span class="p">]</span>
    <span class="n">add_magpie_features</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">add_materialsproject_features</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">materialsproject_apikey</span> <span class="o">=</span> <span class="s1">&#39;USE_YOUR_API_KEY&#39;</span> <span class="c1">#</span>
    <span class="c1">#add_citrine_features = False #This won&#39;t work right now</span>
    <span class="c1">#citrine_apikey = &#39;USE_YOUR_CITRINE_API_KEY&#39;</span>
</pre></div>
</div>
<ul class="simple">
<li>A <code class="docutils literal"><span class="pre">Materials</span> <span class="pre">composition</span></code> column must be included, using common materials naming formats, for example, “H2O”.</li>
<li>Note that you may need to copy the magpiedata folder into your test folder for magpie features to work (DEV)</li>
</ul>
</div>
<div class="section" id="feature-selection-optional">
<h3>Feature Selection (optional)<a class="headerlink" href="#feature-selection-optional" title="Permalink to this headline">¶</a></h3>
<p>This section reduces the number of input features, especially useful if many new features were generated through the Feature Generation section.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Feature</span> <span class="n">Selection</span><span class="p">]</span> <span class="c1">#optional</span>
    <span class="n">remove_constant_features</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">feature_selection_algorithm</span> <span class="o">=</span> <span class="n">univariate</span> <span class="c1">#Choose either RFE, univariate, stability</span>
    <span class="n">selection_type</span> <span class="o">=</span> <span class="n">regression</span> <span class="c1"># Choose either regression or classification</span>
    <span class="n">number_of_features_to_keep</span> <span class="o">=</span> <span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="section" id="models-and-tests-to-run">
<h3>Models and Tests to Run<a class="headerlink" href="#models-and-tests-to-run" title="Permalink to this headline">¶</a></h3>
<p>This section sets up which models and tests to run.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Models</span> <span class="ow">and</span> <span class="n">Tests</span> <span class="n">to</span> <span class="n">Run</span><span class="p">]</span>

    <span class="n">models</span> <span class="o">=</span> <span class="n">gkrr_model</span>
    <span class="n">test_cases</span> <span class="o">=</span> <span class="n">SingleFit_withy</span>
    <span class="c1">#test_cases = ParamOptGA, SingleFit_withy</span>
</pre></div>
</div>
<ul class="simple">
<li>Many models and tests may be specified in the following sections, but only the ones listed here will actually be run. This behavior can be useful if you only want to rerun some individual tests.</li>
<li>Use a comma to separate multiple models or tests.</li>
<li>For multiple models, each test in <code class="docutils literal"><span class="pre">test_cases</span></code> will be run with each model specified in <code class="docutils literal"><span class="pre">models</span></code>.</li>
<li>Test and model names must correspond exactly to the names given in the <code class="docutils literal"><span class="pre">Models</span></code> and <code class="docutils literal"><span class="pre">Test</span> <span class="pre">Parameters</span></code> sections.</li>
</ul>
</div>
<div class="section" id="test-parameters">
<h3>Test Parameters<a class="headerlink" href="#test-parameters" title="Permalink to this headline">¶</a></h3>
<p>This section specifies the parameters for tests.
Note that parameters are subject to change. Documentation mismatches or missing documentation should be reported via a github issue.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Test</span> <span class="n">Parameters</span><span class="p">]</span>
    <span class="p">[[</span><span class="n">ParamOptGA</span><span class="p">]]</span>
    <span class="n">training_dataset</span> <span class="o">=</span> <span class="n">Initial</span>
    <span class="n">testing_dataset</span> <span class="o">=</span> <span class="n">Initial</span>
    <span class="n">num_folds</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">num_cvtests</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">num_gas</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">population_size</span> <span class="o">=</span> <span class="mi">50</span>
    <span class="n">convergence_generations</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">max_generations</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">fix_random_for_testing</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">num_parents</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">use_multiprocessing</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1">#usually number of processors - 1</span>
    <span class="c1">#additional_feature_methods =</span>

    <span class="p">[[</span><span class="n">SingleFit_withy</span><span class="p">]]</span>
    <span class="n">training_dataset</span> <span class="o">=</span> <span class="n">Initial</span>
    <span class="n">testing_dataset</span>  <span class="o">=</span> <span class="n">Initial</span>
    <span class="n">xlabel</span> <span class="o">=</span> <span class="n">Measured</span> <span class="n">target</span>
    <span class="n">ylabel</span> <span class="o">=</span> <span class="n">Target</span> <span class="n">prediction</span>
    <span class="n">stepsize</span> <span class="o">=</span> <span class="mf">1.0</span>
</pre></div>
</div>
<ul class="simple">
<li>Names in [[ ]] must exactly match names listed in the test_cases keyword of the Models and Tests to Run section.</li>
<li>Names must follow the format Testname_YourNamingScheme. Testname options are given below, while YourNamingScheme can be any combination of numbers or letters that you can use to provide more information, for example, KFoldCV_5fold</li>
</ul>
<p>Test names available are:</p>
<blockquote>
<div><ul class="simple">
<li>SingleFit</li>
<li>SingleFitPerGroup</li>
<li>SingleFitGrouped</li>
<li>KFoldCV</li>
<li>LeaveOneOutCV</li>
<li>LeaveOutPercentCV</li>
<li>LeaveOutGroupCV</li>
<li>PredictionVsFeature</li>
<li>PlotNoAnalysis</li>
<li>ParamOptGA (note that only hyperparameters in basicinput.conf are optimized)</li>
</ul>
</div></blockquote>
<p>Separate documentation will later be available for each class.</p>
<p>ParamOptGA:</p>
<ul class="simple">
<li>fix_random_for_testing will always seed random numbers</li>
</ul>
<div class="section" id="common-test-parameter-options">
<h4>Common Test Parameter options<a class="headerlink" href="#common-test-parameter-options" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><strong>training_dataset</strong>: This is the data the model will be fit to.</p>
</li>
<li><p class="first"><strong>testing_dataset</strong>: This is the data that will be predicted and shown on most plots.</p>
</li>
<li><p class="first"><strong>xlabel</strong> and <strong>ylabel</strong>: labels for generated plots.</p>
</li>
<li><p class="first"><strong>plot_filter_out</strong>: This specifies data to be filtered and not included on plots. The general form is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">plot_filter_out</span> <span class="o">=</span> <span class="n">feature_name</span><span class="p">;</span><span class="n">operator</span><span class="p">;</span><span class="n">value</span>
</pre></div>
</div>
</li>
</ul>
<p>The feature name can be any feature from your data.</p>
<ul class="simple">
<li><strong>mark_outlying_groups</strong>: This a numeric value of the number of groups to write notations for on the output plots starting with the groups that performed worst.</li>
</ul>
</div>
</div>
<div class="section" id="model-parameters">
<h3>Model Parameters<a class="headerlink" href="#model-parameters" title="Permalink to this headline">¶</a></h3>
<p>This section sets up the model parameters. If ParamOptGA is used, model parameters will be optimized, and numeric model parameters set here will not be used.</p>
<p>Example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Model</span> <span class="n">Parameters</span><span class="p">]</span>

    <span class="p">[[</span><span class="n">gkrr_model</span><span class="p">]]</span>
    <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.003019951720</span>
    <span class="n">gamma</span> <span class="o">=</span> <span class="mf">3.467368504525</span>
    <span class="n">coef0</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">degree</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">kernel</span> <span class="o">=</span> <span class="n">rbf</span>
</pre></div>
</div>
<ul>
<li><p class="first">Model names should correspond to the model names in the Models and Tests to Run section</p>
</li>
<li><p class="first">For explanations of individual model parameters, see the sklearn documentation at <a class="reference external" href="http://scikit-learn.org/stable/">http://scikit-learn.org/stable/</a></p>
</li>
<li><p class="first">Supported models for hyperparameter optimization (DEV) are:</p>
<blockquote>
<div><ul class="simple">
<li>gkrr_model (sklearn.kernel_ridge.KernelRidge)</li>
<li>decision_tree_model (sklearn.tree.DecisionTreeRegressor)</li>
<li>randomforest_model (sklearn.ensemble.RandomForestRegressor)</li>
<li>nn_model (sklearn.neural_network.MLPRegressor)</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Input file</a><ul>
<li><a class="reference internal" href="#general">General</a></li>
<li><a class="reference internal" href="#sections">Sections</a><ul>
<li><a class="reference internal" href="#general-setup">General Setup</a></li>
<li><a class="reference internal" href="#csv-setup-optional">CSV Setup (optional)</a></li>
<li><a class="reference internal" href="#data-setup">Data Setup</a></li>
<li><a class="reference internal" href="#feature-generation-optional">Feature Generation (optional)</a></li>
<li><a class="reference internal" href="#feature-selection-optional">Feature Selection (optional)</a></li>
<li><a class="reference internal" href="#models-and-tests-to-run">Models and Tests to Run</a></li>
<li><a class="reference internal" href="#test-parameters">Test Parameters</a><ul>
<li><a class="reference internal" href="#common-test-parameter-options">Common Test Parameter options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#model-parameters">Model Parameters</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="1_troubleshooting.html" title="previous chapter">Troubleshooting</a></li>
      <li>Next: <a href="3_glossary.html" title="next chapter">Glossary</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/2_input_file.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, UW-Madison Computational Materials Group.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.6.3</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/2_input_file.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>