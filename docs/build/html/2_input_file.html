
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Input files &#8212; MAST-ml 1.0 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Glossary" href="3_glossary.html" />
    <link rel="prev" title="Troubleshooting" href="1_troubleshooting.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="input-files">
<h1>Input files<a class="headerlink" href="#input-files" title="Permalink to this headline">¶</a></h1>
<p>This documentation references the <strong>ryan_updates_2018-03-08</strong> branch. Not all changes may be in master yet.</p>
<p>A sample input file with all available section is included in the /MASTML_input_file_template/ directory</p>
<div class="section" id="general-notes-on-data-file-structure">
<h2>General notes on data file structure<a class="headerlink" href="#general-notes-on-data-file-structure" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>MAST-ML currently reads in data files in a csv format.</li>
<li>Each column in the data file represents one feature and the first row should be text with a name for that feature</li>
<li>To check that a csv is formatted correctly try to open the file as plain text (using notepad or a similar app). If formatted correctly you should see each value seperated by a single comma with no extra spaces or commas added in.</li>
</ul>
</div>
<div class="section" id="general-notes-on-configuration-file-structure">
<h2>General notes on configuration file structure<a class="headerlink" href="#general-notes-on-configuration-file-structure" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Any lines in the input file may be commented out using #. Characters after # will be ignored as comments</li>
<li>For more detailed explanations of the keywords in each section check section of the documentation on the specific test of interest.</li>
<li>For keywords that accept multiple inputs comma seperate each input.</li>
<li>Single square brackets denote sections of the configuration file.</li>
<li>Double square brackets denote subsections specific to each section.</li>
</ul>
</div>
<div class="section" id="sections-of-the-configuration-file">
<h2>Sections of the configuration file<a class="headerlink" href="#sections-of-the-configuration-file" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general-setup">
<span id="id1"></span><h3>General Setup<a class="headerlink" href="#general-setup" title="Permalink to this headline">¶</a></h3>
<p>This section has general setup information common to the entire input file.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">General</span> <span class="n">Setup</span><span class="p">]</span>

    <span class="n">save_path</span> <span class="o">=</span> <span class="o">./</span>
    <span class="n">input_features</span> <span class="o">=</span> <span class="n">x1</span><span class="p">,</span> <span class="n">x2</span><span class="p">,</span> <span class="n">x3</span>
    <span class="n">target_feature</span> <span class="o">=</span> <span class="n">y_feature</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>save_path</strong> is the root save path for all of the tests in the input file.</li>
<li><strong>input_features</strong> are all the other features that should be used in the prediction. Use <code class="docutils literal notranslate"><span class="pre">input_features</span> <span class="pre">=</span> <span class="pre">Auto</span></code> to make everything except target_feature into input_features.</li>
<li><strong>target_feature</strong> is what should be predicted. This names should end in _regression for regression models and _classification for classification models. Make sure this also matches the naming in the csv data file as well.</li>
</ul>
</div>
<div class="section" id="data-setup">
<span id="id2"></span><h3>Data Setup<a class="headerlink" href="#data-setup" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Data</span> <span class="n">Setup</span><span class="p">]</span>

    <span class="p">[[</span><span class="n">Initial</span><span class="p">]]</span>
    <span class="n">data_path</span> <span class="o">=</span> <span class="o">./</span><span class="n">basic_test_data</span><span class="o">.</span><span class="n">csv</span>
    <span class="n">weights</span> <span class="o">=</span> <span class="kc">False</span>

    <span class="p">[[</span><span class="n">Dataset_2</span><span class="p">]]</span>
    <span class="n">data_path</span> <span class="o">=</span> <span class="o">./</span><span class="n">second_datat_set</span><span class="o">.</span><span class="n">csv</span>
    <span class="n">weights</span> <span class="o">=</span> <span class="kc">False</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>data_path</strong> is the path to the CSV file.</li>
<li><strong>weights</strong> has no effect as of now.</li>
<li>Multiple subsections with different names for different datasets may follow after the Initial subsection.</li>
</ul>
</div>
<div class="section" id="feature-normalization">
<h3>Feature Normalization<a class="headerlink" href="#feature-normalization" title="Permalink to this headline">¶</a></h3>
<p>This section generates features.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Feature</span> <span class="n">Generation</span><span class="p">]</span>
    <span class="n">normalize_x_features</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">normalize_y_features</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">feature_normalization_type</span> <span class="o">=</span> <span class="n">standardize</span>
    <span class="n">feature_scale_min</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">feature_scale_max</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>feature_normalization_type</strong> can be set to <strong>standardize</strong> or <strong>normalize</strong></li>
<li><strong>standardize</strong> rescales the data to have a mean of 0 and and standard deviation of 1.</li>
<li><strong>normalize</strong> rescales the data linearly to have a minimum value of <strong>feature_scale_min</strong> and a maximum of <strong>feature_scale_max</strong>.</li>
</ul>
</div>
<div class="section" id="feature-generation">
<h3>Feature Generation<a class="headerlink" href="#feature-generation" title="Permalink to this headline">¶</a></h3>
<p>This section generates features.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Feature</span> <span class="n">Generation</span><span class="p">]</span>
    <span class="n">perform_feature_generation</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">add_magpie_features</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">add_materialsproject_features</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">add_citrine_features</span> <span class="o">=</span> <span class="kc">False</span>
    <span class="n">materialsproject_apikey</span> <span class="o">=</span> <span class="c1">####</span>
    <span class="n">citrine_apikey</span> <span class="o">=</span> <span class="c1">####</span>
</pre></div>
</div>
<ul class="simple">
<li>A <code class="docutils literal notranslate"><span class="pre">Materials</span> <span class="pre">composition</span></code> column must be included in the data file to generate features, using common materials naming formats, for example, “H2O”.</li>
<li>Multiple columns can also be included named as <strong>Material composition 1</strong> to <strong>Material composition N</strong> to specify specific groupings within a composition.</li>
<li>To skip this section set <strong>add_magpie_features</strong> to False</li>
<li>The materials project and citrine features may not be working right now.</li>
</ul>
</div>
<div class="section" id="feature-selection">
<h3>Feature Selection<a class="headerlink" href="#feature-selection" title="Permalink to this headline">¶</a></h3>
<p>This section reduces the number of input features, especially useful if many new features were generated through the Feature Generation section.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Feature</span> <span class="n">Selection</span><span class="p">]</span>
    <span class="n">perform_feature_selection</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">remove_constant_features</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">feature_selection_algorithm</span> <span class="o">=</span> <span class="n">univariate_feature_selection</span>
    <span class="n">use_mutual_information</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">scoring_metric</span> <span class="o">=</span> <span class="n">root_mean_squared_error</span>
    <span class="n">generate_feature_learning_curve</span> <span class="o">=</span> <span class="kc">True</span>
    <span class="n">model_to_use_for_learning_curve</span> <span class="o">=</span> <span class="n">randomforest_model_regressor</span>
    <span class="n">number_of_features_to_keep</span> <span class="o">=</span> <span class="mi">10</span>
</pre></div>
</div>
<ul class="simple">
<li><strong>feature_selection_algorithm</strong> can be <strong>univariate_feature_selection</strong>, <strong>recursive_feature_elimination</strong>, <strong>sequential_forward_selection</strong>, <strong>basic_forward_selection</strong></li>
<li><strong>scoring_metric</strong> determines which model performance parameter to use in generating the learning curve. It can be <strong>mean_squared_error</strong>, <strong>mean_absolute_error</strong>, <strong>root_mean_squared_error</strong>, <strong>r2_score</strong>.</li>
<li><strong>model_to_use_for_learning_curve</strong> sets which model to use to generate the learning curve and can be any model type available in the <code class="docutils literal notranslate"><span class="pre">Model</span> <span class="pre">Parameters</span></code> section.</li>
</ul>
</div>
<div class="section" id="models-and-tests-to-run">
<h3>Models and Tests to Run<a class="headerlink" href="#models-and-tests-to-run" title="Permalink to this headline">¶</a></h3>
<p>This section sets up which models and tests will actually run when the configuration file is read in.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Models</span> <span class="ow">and</span> <span class="n">Tests</span> <span class="n">to</span> <span class="n">Run</span><span class="p">]</span>

    <span class="n">models</span> <span class="o">=</span> <span class="n">gkrr_model_regressor</span>
    <span class="n">test_cases</span> <span class="o">=</span> <span class="n">SingleFit_withy</span><span class="p">,</span> <span class="n">SingleFit_withouty</span>
    <span class="c1">#test_cases = ParamOptGA, SingleFit_withy</span>
</pre></div>
</div>
<ul class="simple">
<li>Many models and tests may be specified in the <code class="docutils literal notranslate"><span class="pre">Test</span> <span class="pre">Parameters</span></code> and <code class="docutils literal notranslate"><span class="pre">Model</span> <span class="pre">Parameters</span></code> sections, but only the ones listed here will actually be run. This behavior can be useful if you only want to rerun some individual tests from a large configuration file.</li>
<li>Use a comma to separate multiple models or tests.</li>
<li>For multiple models, each test in <code class="docutils literal notranslate"><span class="pre">test_cases</span></code> will be run with each model specified in <code class="docutils literal notranslate"><span class="pre">models</span></code>.</li>
<li>Test and model names must correspond exactly to the names given in the <code class="docutils literal notranslate"><span class="pre">Models</span></code> and <code class="docutils literal notranslate"><span class="pre">Test</span> <span class="pre">Parameters</span></code> sections.</li>
<li>Multiple test_cases of the same type can be run by adding and underscore and a unique identifier to the test name. Note that this also has to match the test names in the <code class="docutils literal notranslate"><span class="pre">Test</span> <span class="pre">Parameters</span></code> section.</li>
</ul>
</div>
<div class="section" id="test-parameters">
<h3>Test Parameters<a class="headerlink" href="#test-parameters" title="Permalink to this headline">¶</a></h3>
<p>This section specifies the parameters for individual tests.
Note that parameters are subject to change. Documentation mismatches or missing documentation should be reported via a github issue.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Test</span> <span class="n">Parameters</span><span class="p">]</span>
    <span class="p">[[</span><span class="n">ParamOptGA</span><span class="p">]]</span>
    <span class="n">training_dataset</span> <span class="o">=</span> <span class="n">Initial</span>
    <span class="n">testing_dataset</span> <span class="o">=</span> <span class="n">Initial</span>
    <span class="n">num_folds</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">num_cvtests</span> <span class="o">=</span> <span class="mi">20</span>
    <span class="n">num_gas</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">population_size</span> <span class="o">=</span> <span class="mi">50</span>
    <span class="n">convergence_generations</span> <span class="o">=</span> <span class="mi">2</span>
    <span class="n">max_generations</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">fix_random_for_testing</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">num_parents</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">use_multiprocessing</span> <span class="o">=</span> <span class="mi">2</span> <span class="c1">#usually number of processors - 1</span>


    <span class="p">[[</span><span class="n">SingleFit_withy</span><span class="p">]]</span>
    <span class="n">training_dataset</span> <span class="o">=</span> <span class="n">Initial</span>
    <span class="n">testing_dataset</span>  <span class="o">=</span> <span class="n">Initial</span>
    <span class="n">xlabel</span> <span class="o">=</span> <span class="n">Measured</span> <span class="n">target</span>
    <span class="n">ylabel</span> <span class="o">=</span> <span class="n">Target</span> <span class="n">prediction</span>

    <span class="p">[[</span><span class="n">SingleFit_withouty</span><span class="p">]]</span>
    <span class="n">training_dataset</span> <span class="o">=</span> <span class="n">Initial</span>
    <span class="n">testing_dataset</span>  <span class="o">=</span> <span class="n">Dataset_2</span>
    <span class="n">xlabel</span> <span class="o">=</span> <span class="n">Measured</span> <span class="n">target</span>
    <span class="n">ylabel</span> <span class="o">=</span> <span class="n">Target</span> <span class="n">prediction</span>
</pre></div>
</div>
<ul class="simple">
<li>Names in [[ ]] must exactly match names listed in the test_cases keyword of the Models and Tests to Run section.</li>
<li>Names must follow the format Testname_YourNamingScheme. Testname options are given below, while YourNamingScheme can be any combination of numbers or letters that you can use to provide more information, for example, KFoldCV_5fold</li>
</ul>
<p>Test names available are:</p>
<blockquote>
<div><ul class="simple">
<li>SingleFit</li>
<li>SingleFitPerGroup</li>
<li>SingleFitGrouped</li>
<li>KFoldCV</li>
<li>LeaveOneOutCV</li>
<li>LeaveOutPercentCV</li>
<li>LeaveOutGroupCV</li>
<li>PredictionVsFeature</li>
<li>PlotNoAnalysis</li>
<li>ParamGridSearch</li>
<li>ParamOptGA</li>
</ul>
</div></blockquote>
<p>Check the <strong>Tests</strong> section of the documentation for details on keywords for each test.</p>
</div>
<div class="section" id="model-parameters">
<span id="id3"></span><h3>Model Parameters<a class="headerlink" href="#model-parameters" title="Permalink to this headline">¶</a></h3>
<p>This section sets up the model parameters. If ParamOptGA is used, model parameters will be optimized, and numeric model parameters set here will not be used.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">Model</span> <span class="n">Parameters</span><span class="p">]</span>

    <span class="p">[[</span><span class="n">gkrr_model_regressor</span><span class="p">]]</span>
    <span class="n">alpha</span> <span class="o">=</span> <span class="mf">0.003019951720</span>
    <span class="n">gamma</span> <span class="o">=</span> <span class="mf">3.467368504525</span>
    <span class="n">coef0</span> <span class="o">=</span> <span class="mi">1</span>
    <span class="n">degree</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">kernel</span> <span class="o">=</span> <span class="n">rbf</span>
</pre></div>
</div>
<ul class="simple">
<li>Model names should correspond to the model names in the Models and Tests to Run section</li>
<li>Available model types are included in the /MASTML_input_file_template/MASTML_input_file_template.conf file</li>
<li>For explanations of individual model parameters you can also check the sklearn documentation at <a class="reference external" href="http://scikit-learn.org/stable/">http://scikit-learn.org/stable/</a></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Input files</a><ul>
<li><a class="reference internal" href="#general-notes-on-data-file-structure">General notes on data file structure</a></li>
<li><a class="reference internal" href="#general-notes-on-configuration-file-structure">General notes on configuration file structure</a></li>
<li><a class="reference internal" href="#sections-of-the-configuration-file">Sections of the configuration file</a><ul>
<li><a class="reference internal" href="#general-setup">General Setup</a></li>
<li><a class="reference internal" href="#data-setup">Data Setup</a></li>
<li><a class="reference internal" href="#feature-normalization">Feature Normalization</a></li>
<li><a class="reference internal" href="#feature-generation">Feature Generation</a></li>
<li><a class="reference internal" href="#feature-selection">Feature Selection</a></li>
<li><a class="reference internal" href="#models-and-tests-to-run">Models and Tests to Run</a></li>
<li><a class="reference internal" href="#test-parameters">Test Parameters</a></li>
<li><a class="reference internal" href="#model-parameters">Model Parameters</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="1_troubleshooting.html" title="previous chapter">Troubleshooting</a></li>
      <li>Next: <a href="3_glossary.html" title="next chapter">Glossary</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/2_input_file.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, UW-Madison Computational Materials Group.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.10</a>
      
      |
      <a href="_sources/2_input_file.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>