<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Input file &mdash; MAST-ml 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="top" title="MAST-ml 1.0 documentation" href="index.html" />
    <link rel="next" title="Glossary" href="3_glossary.html" />
    <link rel="prev" title="Troubleshooting" href="1_troubleshooting.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head>
  <body role="document">  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="input-file">
<h1>Input file<a class="headerlink" href="#input-file" title="Permalink to this headline">¶</a></h1>
<p>This documentation is looking at the <strong>dev</strong> branch. Not all changes may be in master yet.</p>
<div class="section" id="general">
<h2>General<a class="headerlink" href="#general" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>Any lines in the input file may be commented out using #. Characters after # will be ignored as comments</li>
<li>For explanations of the keywords associated with sections like SingleFit, there will be html documentation in the future. For now, look at the docstring for the class on github, like SingleFit.py</li>
</ul>
</div>
<div class="section" id="sections">
<h2>Sections<a class="headerlink" href="#sections" title="Permalink to this headline">¶</a></h2>
<div class="section" id="general-setup">
<h3>General Setup<a class="headerlink" href="#general-setup" title="Permalink to this headline">¶</a></h3>
<p>This section has general setup information common to the entire input file.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>[General Setup]

    save_path = ./
    input_features = x1, x2, x3
    target_feature = y_feature
            target_error_feature = error
            labeling_features = group, group_num
            grouping_feature = group
</pre></div>
</div>
<ul class="simple">
<li><strong>save_path</strong> is the root save path for all of the tests in the input file.</li>
<li><strong>target_feature</strong> is what should be predicted.</li>
<li><strong>target_error_feature</strong> is the error data for the target_feature.</li>
<li><strong>labeling_features</strong> are the names and number identifiers for groups. This generally overlaps with grouping_feature unless you want a different naming method.</li>
<li><strong>grouping_feature</strong> is the feature to create groups on for any of the group tests.</li>
<li><strong>input_features</strong> are all the other features that should be used in the prediction. Use <code class="docutils literal"><span class="pre">input_features</span> <span class="pre">=</span> <span class="pre">Auto</span></code> to make everything except target feature into input_features.</li>
</ul>
</div>
<div class="section" id="csv-setup-optional">
<h3>CSV Setup (optional)<a class="headerlink" href="#csv-setup-optional" title="Permalink to this headline">¶</a></h3>
<p>This section is used to call a python routine that will automatically create a CSV file. Most users should skip this section.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>[CSV Setup]
    setup_class = test.random_data.MakeRandomData
    save_path = ../random_data
    random_seed = 0
</pre></div>
</div>
<ul class="simple">
<li><strong>setup_class</strong> is the setup class, which must have a run() method.</li>
<li>All following keywords will be passed to the class __init__() method as a kwargs dictionary.</li>
</ul>
</div>
<div class="section" id="data-setup">
<h3>Data Setup<a class="headerlink" href="#data-setup" title="Permalink to this headline">¶</a></h3>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>[Data Setup]

    [[Initial]]
    data_path = ./basic_test_data.csv
    weights = False
</pre></div>
</div>
<ul class="simple">
<li><strong>data_path</strong> is the path to the CSV file.</li>
<li><strong>weights</strong> has no effect as of now.</li>
<li>Multiple subsections with different names for different datasets may follow after the Initial subsection.</li>
</ul>
</div>
<div class="section" id="feature-generation-optional">
<h3>Feature Generation (optional)<a class="headerlink" href="#feature-generation-optional" title="Permalink to this headline">¶</a></h3>
<p>This section generates features.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>[Feature Generation]
    add_magpie_features = True
    add_materialsproject_features = False
    materialsproject_apikey = &#39;USE_YOUR_API_KEY&#39; #
    #add_citrine_features = False #This won&#39;t work right now
    #citrine_apikey = &#39;USE_YOUR_CITRINE_API_KEY&#39;
</pre></div>
</div>
<ul class="simple">
<li>A <code class="docutils literal"><span class="pre">Materials</span> <span class="pre">composition</span></code> column must be included, using common materials naming formats, for example, &#8220;H2O&#8221;.</li>
<li>Note that you may need to copy the magpiedata folder into your test folder for magpie features to work (DEV)</li>
</ul>
</div>
<div class="section" id="feature-selection-optional">
<h3>Feature Selection (optional)<a class="headerlink" href="#feature-selection-optional" title="Permalink to this headline">¶</a></h3>
<p>This section reduces the number of input features, especially useful if many new features were generated through the Feature Generation section.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>[Feature Selection] #optional
    remove_constant_features = True
    feature_selection_algorithm = univariate #Choose either RFE, univariate, stability
    selection_type = regression # Choose either regression or classification
    number_of_features_to_keep = 10
</pre></div>
</div>
</div>
<div class="section" id="models-and-tests-to-run">
<h3>Models and Tests to Run<a class="headerlink" href="#models-and-tests-to-run" title="Permalink to this headline">¶</a></h3>
<p>This section sets up which models and tests to run.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>[Models and Tests to Run]

    models = gkrr_model
    test_cases = SingleFit_withy
    #test_cases = ParamOptGA, SingleFit_withy
</pre></div>
</div>
<ul class="simple">
<li>Many models and tests may be specified in the following sections, but only the ones listed here will actually be run. This behavior can be useful if you only want to rerun some individual tests.</li>
<li>Use a comma to separate multiple models or tests.</li>
<li>For multiple models, each test in <code class="docutils literal"><span class="pre">test_cases</span></code> will be run with each model specified in <code class="docutils literal"><span class="pre">models</span></code>.</li>
<li>Test and model names must correspond exactly to the names given in the <code class="docutils literal"><span class="pre">Models</span></code> and <code class="docutils literal"><span class="pre">Test</span> <span class="pre">Parameters</span></code> sections.</li>
</ul>
</div>
<div class="section" id="test-parameters">
<h3>Test Parameters<a class="headerlink" href="#test-parameters" title="Permalink to this headline">¶</a></h3>
<p>This section specifies the parameters for tests.
Note that parameters are subject to change. Documentation mismatches or missing documentation should be reported via a github issue.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>[Test Parameters]
    [[ParamOptGA]]
    training_dataset = Initial
    testing_dataset = Initial
    num_folds = 2
    num_cvtests = 20
    num_gas = 2
    population_size = 50
    convergence_generations = 2
    max_generations = 10
    fix_random_for_testing = 1
    num_parents = 10
    use_multiprocessing = 2 #usually number of processors - 1
    #additional_feature_methods =

    [[SingleFit_withy]]
    training_dataset = Initial
    testing_dataset  = Initial
    xlabel = Measured target
    ylabel = Target prediction
    stepsize = 1.0
</pre></div>
</div>
<ul class="simple">
<li>Names in [[ ]] must exactly match names listed in the test_cases keyword of the Models and Tests to Run section.</li>
<li>Names must follow the format Testname_YourNamingScheme. Testname options are given below, while YourNamingScheme can be any combination of numbers or letters that you can use to provide more information, for example, KFoldCV_5fold</li>
</ul>
<p>Test names available are:</p>
<blockquote>
<div><ul class="simple">
<li>SingleFit</li>
<li>SingleFitPerGroup</li>
<li>SingleFitGrouped</li>
<li>KFoldCV</li>
<li>LeaveOneOutCV</li>
<li>LeaveOutPercentCV</li>
<li>LeaveOutGroupCV</li>
<li>PredictionVsFeature</li>
<li>PlotNoAnalysis</li>
<li>ParamOptGA (note that only hyperparameters in basicinput.conf are optimized)</li>
</ul>
</div></blockquote>
<p>Separate documentation will later be available for each class.</p>
<p>ParamOptGA:</p>
<ul class="simple">
<li>fix_random_for_testing will always seed random numbers</li>
</ul>
<div class="section" id="common-test-parameter-options">
<h4>Common Test Parameter options<a class="headerlink" href="#common-test-parameter-options" title="Permalink to this headline">¶</a></h4>
<ul>
<li><p class="first"><strong>training_dataset</strong>: This is the data the model will be fit to.</p>
</li>
<li><p class="first"><strong>testing_dataset</strong>: This is the data that will be predicted and shown on most plots.</p>
</li>
<li><p class="first"><strong>xlabel</strong> and <strong>ylabel</strong>: labels for generated plots.</p>
</li>
<li><p class="first"><strong>plot_filter_out</strong>: This specifies data to be filtered and not included on plots. The general form is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">plot_filter_out</span> <span class="o">=</span> <span class="n">feature_name</span><span class="p">;</span><span class="n">operator</span><span class="p">;</span><span class="n">value</span>
</pre></div>
</div>
</li>
</ul>
<p>The feature name can be any feature from your data.</p>
<ul class="simple">
<li><strong>mark_outlying_groups</strong>: This a numeric value of the number of groups to write notations for on the output plots starting with the groups that performed worst.</li>
</ul>
</div>
</div>
<div class="section" id="model-parameters">
<h3>Model Parameters<a class="headerlink" href="#model-parameters" title="Permalink to this headline">¶</a></h3>
<p>This section sets up the model parameters. If ParamOptGA is used, model parameters will be optimized, and numeric model parameters set here will not be used.</p>
<p>Example:</p>
<div class="highlight-python"><div class="highlight"><pre>[Model Parameters]

    [[gkrr_model]]
    alpha = 0.003019951720
    gamma = 3.467368504525
    coef0 = 1
    degree = 3
    kernel = rbf
</pre></div>
</div>
<ul>
<li><p class="first">Model names should correspond to the model names in the Models and Tests to Run section</p>
</li>
<li><p class="first">For explanations of individual model parameters, see the sklearn documentation at <a class="reference external" href="http://scikit-learn.org/stable/">http://scikit-learn.org/stable/</a></p>
</li>
<li><p class="first">Supported models for hyperparameter optimization (DEV) are:</p>
<blockquote>
<div><ul class="simple">
<li>gkrr_model (sklearn.kernel_ridge.KernelRidge)</li>
<li>decision_tree_model (sklearn.tree.DecisionTreeRegressor)</li>
<li>randomforest_model (sklearn.ensemble.RandomForestRegressor)</li>
<li>nn_model (sklearn.neural_network.MLPRegressor)</li>
</ul>
</div></blockquote>
</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Input file</a><ul>
<li><a class="reference internal" href="#general">General</a></li>
<li><a class="reference internal" href="#sections">Sections</a><ul>
<li><a class="reference internal" href="#general-setup">General Setup</a></li>
<li><a class="reference internal" href="#csv-setup-optional">CSV Setup (optional)</a></li>
<li><a class="reference internal" href="#data-setup">Data Setup</a></li>
<li><a class="reference internal" href="#feature-generation-optional">Feature Generation (optional)</a></li>
<li><a class="reference internal" href="#feature-selection-optional">Feature Selection (optional)</a></li>
<li><a class="reference internal" href="#models-and-tests-to-run">Models and Tests to Run</a></li>
<li><a class="reference internal" href="#test-parameters">Test Parameters</a><ul>
<li><a class="reference internal" href="#common-test-parameter-options">Common Test Parameter options</a></li>
</ul>
</li>
<li><a class="reference internal" href="#model-parameters">Model Parameters</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="1_troubleshooting.html" title="previous chapter">Troubleshooting</a></li>
      <li>Next: <a href="3_glossary.html" title="next chapter">Glossary</a></li>
  </ul></li>
</ul>
</div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/2_input_file.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2017, UW-Madison Computational Materials Group.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.3.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="_sources/2_input_file.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>